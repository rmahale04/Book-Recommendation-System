<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Author Login - ReadNext</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login_style.css') }}">
    <style>
        .author-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }

        .role-switch {
            text-align: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e0e0e0;
            font-size: 14px;
            color: #767676;
        }

        .role-switch a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .role-switch a:hover {
            text-decoration: underline;
        }

        .error-message {
            background: #fee;
            color: #c00;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 14px;
            border: 1px solid #fcc;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 14px;
            border: 1px solid #c3e6cb;
        }

        .author-icon {
            text-align: center;
            margin-bottom: 20px;
        }

        .author-icon svg {
            width: 60px;
            height: 60px;
        }
    </style>
</head>
<body>
    <!-- Main Content -->
    <div class="main-container">
        <!-- Left Side Content -->
        <div class="left-content">
            <h1 class="welcome-title">Author Portal</h1>
            <p class="welcome-subtitle">
                Access your author dashboard to manage your books, connect with readers, and track your literary journey.
            </p>
            <ul class="features-list">
                <li>View your book statistics and reader engagement</li>
                <li>Read and respond to reader reviews</li>
                <li>Track your book's performance across the platform</li>
                <li>Update your author biography and profile</li>
                <li>See trending topics and reader preferences</li>
                <li>Connect with your growing reader community</li>
            </ul>
        </div>

        <!-- Right Side - Login Form -->
        <div class="login-container">
            <div class="author-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path d="M12 20h9"></path>
                    <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                </svg>
            </div>

            <h2 class="login-title">
                Author Sign In
                <span class="author-badge">✍️ AUTHOR</span>
            </h2>

            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="{{ 'success-message' if category == 'success' else 'error-message' }}">
                    {{ message }}
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}

            {% if errors %}
              {% for field, error in errors.items() %}
                <div class="error-message">{{ error }}</div>
              {% endfor %}
            {% endif %}

            <!-- Login Form -->
            <form action="{{ url_for('author_login') }}" method="POST">
                <div class="form-group">
                    <label for="email">Author Email Address</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        placeholder="Enter your registered email"
                        value="{{ form_data.email if form_data else '' }}"
                        required
                        autofocus
                    >
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        placeholder="Enter your password"
                        required
                    >
                </div>

                <button type="submit" class="sign-in-btn">
                    Sign In to Author Dashboard
                </button>
            </form>

            <!-- Role Switch -->
            <div class="role-switch">
                Not an author?
                <a href="{{ url_for('login') }}">Sign in as Reader</a>
            </div>

            <!-- Sign Up Link -->
            <div class="signup-link">
                Don't have an author account?
                <a href="{{ url_for('author_register') }}">Register as Author</a>
            </div>
        </div>
    </div>
</body>
</html>