<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Author</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/form_styles.css') }}">
</head>
<body>
    {%include "nav_page.html"%}
  <div class="container">
    <div class="header">
      <h2>Add New Author</h2>
    </div>

    <div class="form-content">
      <form method="POST">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" name="name" id="name" value="{{ form_data.get('name', '') }}" required>
          {% if errors.get('name') %}<div class="error">{{ errors['name'] }}</div>{% endif %}
        </div>

        <div class="form-group">
          <label for="biography">Biography</label>
          <textarea name="biography" id="biography" placeholder="Tell us about this author's life, works, and achievements...">{{ form_data.get('biography', '') }}</textarea>
        </div>

        <div class="date-inputs">
          <div class="form-group">
            <label for="date_of_birth">Date of Birth</label>
            <input type="date" name="date_of_birth" id="date_of_birth" value="{{ form_data.get('date_of_birth', '') }}">
          </div>

          <div class="form-group">
            <label for="date_of_death">Date of Death</label>
            <input type="date" name="date_of_death" id="date_of_death" value="{{ form_data.get('date_of_death', '') }}">
          </div>
        </div>

        {% if errors.get('database') %}<div class="error">{{ errors['database'] }}</div>{% endif %}

        <button type="submit" class="submit-btn">Add Author</button>
      </form>

      <div class="back-link">
        <a href="{{ url_for('home') }}">Back to Home</a>
      </div>
    </div>
  </div>

  <script>
    // Add loading state to submit button
    document.querySelector('form').addEventListener('submit', function() {
      const btn = document.querySelector('.submit-btn');
      btn.classList.add('loading');
      btn.textContent = 'Adding Author...';
    });

    // Auto-resize textarea
    const textarea = document.querySelector('textarea');
    textarea.addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = this.scrollHeight + 'px';
    });
  </script>
</body>
</html>
